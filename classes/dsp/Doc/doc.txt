Документация Cryptographp v1.4

Установка
Распакуйте ZIP файл и скопируйте его в каталог. 
Например склепе каталога (все примеры в этой документации будет основываться для установки в этом каталоге).

<?php 
 $cryptinstall="./crypt/cryptographp.fct.php";
 include $cryptinstall;  
 ?>

Вставьте криптограммы на странице
Скопируйте эту линию в начале страницы, которая будет содержать криптограммы. Эти линии должны быть действительно помещается в начале, перед любым текстом.

<?php dsp_crypt(0,1); ?>

=> Пожалуйста, измените путь доступа к файлу cryptographp.fct.php , указав ваши пути доступа, если оно отличается от этого. Эти линии включают в себя файл cryptographp.fct.php который содержит функции, полезные для Cryptographp. Этот файл также открывает PHP сессии. По этой причине эти строки должны быть помещены в начале страницы. Если ваша страница отправляет данные в браузере до открытия сессии, вы получите сообщение об ошибке типа: "Внимание: session_start (): Не удается отправить куки - заголовки уже отправить [..]" Чтобы вставить криптограммы, скопируйте нижеприведенный линии на вашей странице, в месте, где вы хотите вставки: 





Функция dsp_crypt (X, Y):
. Эта Fonction вставить криптограммы X : имя файла конфигурации. По умолчанию (X = 0) имя файла cryptographp.cfg.php . Вы можете использовать другие конфигурационные файлы в том же веб-сайте. Y :. шоу (Y = 1) или нет (Y = 0) по кнопке перезагрузки Примеры dsp_crypt функции (): dsp_crypt (0,1) => использовать конфигурацию по умолчанию файла и показывая кнопку перезагрузки. dsp_crypt ('myfile.cfg.php', 0) => Использовать myfile.cfg.php конфигурационный файл и не показывают по кнопке перезагрузки.


<form action="verify.php" method="post">
<table>
  <tr><td><?php dsp_crypt(0,1); ?></td></tr>
  <tr><td>Copy the text:<input type="text" name="code"></td></tr>
  <tr><td><input type="submit" name="submit" value="Send"></td></tr>
</table>
</form>

Форма
Эксплуатация всегда та же самая:. Код отправить проверки страницы в то же время, как и все другие зоны форме 
вы должны адаптировать этот пример с вашего сценария. Вы не должны создать новую форму, необходимо использовать форму, которая у вас уже есть, включив криптограммы внутри.


Проверка страницы
Проверка страницы ( verify.php в примере выше) получают значения формы ( код в примере выше). проверка страницы должен начинаться (до любой текст) на следующие строки: 

$cryptinstall="./crypt/cryptographp.fct.php";
 include $cryptinstall;  
 ?>
 

=> Пожалуйста, измените путь доступа к файлу cryptographp.fct.php , указав ваши пути доступа, если оно отличается от этого. chk_crypt функции возврата истинно , если код правильный и ложные , если нет. 



Вы должны заменить эхо по программе, которая будет работать. Функция chk_crypt (X): проверяет код. Вернуться истинными или ложными. X : имя зоны в форме. 

  if (chk_crypt($_POST['code'])) 
     echo "Correct";
     else echo "Bad :(";
?>


О сессий
Если вы уже используете сессий в вашем веб-сайте:

Cryptographp никак не затрагивает, он просто добавляет новые переменные сессии. Эти переменные: cryptcode : Containt зашифрованное значение cryptcptuse : Количество раз, криптограммы регенерируют crypttime : секунды с момента последней регенерации криптограммы cryptreload : Эта переменная указывает неправильное использование ConfigFile : конфигурационный файл на cryptdir : Cryptographp каталог




Совместимость
Cryptographp v1.4 совместим с PHP> = 4.3.0 
Некоторые функции требуют более поздних версиях PHP и графической библиотеки GD. Совместимые функции, только если PHP> = 4.3.2 - Прозрачность символов Совместимые функции, только если PHP> = 5.0 0,0 - преобразование изображения в уровень серого - заклинивание изображения методом Гаусса





Если Cryptographp не работает
См. часть "Поддержка"

Cryptographp.cfg.php файла конфигурации

Фон конфигурации:
$ Cryptwidth	криптограммы ширину. (В пикселях)
$ Cryptheight	криптограммы высоту. (В пикселях)
$ BGR	Цвет фона RGB: красный (0 -> 255)
$ Bgg	Цвет фона RGB: Зеленый (0 -> 255)
$ BGB	RGB цвет фона: голубой (0 -> 255)
$ Bgclear	фоне это прозрачность (истина / ложь). 
(только с изображениями в формате PNG)
$ Bgimg	Фон может быть изображений: PNG, JPG GIF НУ. Введите имя файла изображения. 
изображения будут изменены при необходимости провести в размере $ X $ cryptwidth cryptheight 
Вы можете ввести каталог, изображение будет выбор изображение будет случайным выбором в каталоге
$ Bgframe	Добавить рамку вокруг изображения (True / False)

Конфигурация знаков:
$ Чарр	Цвет символов RGB: красный (0 -> 255)
$ CHARG	Цвет символов RGB: Зеленый (0 -> 255)
$ CharB	Цвет символов RGB: Синий (0 -> 255)
$ Charcolorrnd	Случайный выбор цвета (True / False)
$ Charcolorrndlevel	Если "Случайный выбор цвета": Уровень четкости (0 -> 4). 
0: Нет выбора 
1: Очень темные цвета (особенно по понятным фонды) 
2: Темные цвета 
3: чистые цвета 
4: Очень чистые цвета (особенно для темных средств)
$ Charclear	Интенсивность прозрачность символов. (0 -> 127) 
0 = непрозрачный до 127 = невидимые 
интересная особенно если вы используете фоновое изображение
только для PHP> = 4.3.2
$ TFont [] 
$ TFont [] 
$ TFont [] 
...	 Список шрифтов случайно использовал. Необходимо скопировать соответствующие файлы на сервере («Шрифты» каталог). Добавить столько строк, сколько вы хотите в этой таблице	
$ Charel	Уполномоченный символов. некоторые шрифты не делают различия (или с трудом) заглавные буквы и крошечные. Рекомендуется выбирать символы, используемые
$ Crypteasy	Криптограммы "легко читается" (True / False) альтернативно состоит из согласных и гласных.
$ Charelc	Если crypteasy режима: список уполномоченных согласных
$ Charelv	Если crypteasy режима: список уполномоченных гласных
$ Difuplow	Дифференцировать Заглавные буквы / крошечные?
$ Charnbmin	Минимальное число символов в криптограммы
$ Charnbmax	Числа максимальное количество символов в криптограмме
$ Charspace	Пробел между символами (в пикселях)
$ Charsizemin	Минимальный размер символов
$ Charsizemax	Максимальный размер символов
$ Charanglemax	Максимальный угол поворота символов (0 -> 360)
$ Charup	Случайные вертикальное смещение символов (True / False)

Шум Конфигурация:
$ Cryptgaussianblur	Преобразование окончательного изображения при скремблирования: метод Гаусса (истина / ложь) 
, если только PHP> = 5.0.0
$ Cryptgrayscal	Преобразование конечного изображения в диапазоне серого цвета (True / False) 
Только если PHP> = 5.0.0
$ Noisepxmin	Шум: минимальная случайных пикселов
$ Noisepxmax	Шум: максимальная случайных пикселов
$ Noiselinemin	Шум: минимальная случайных линий
$ Noiselinemax	Шум: максимальная случайных линий
$ Nbcirclemin	Шум: минимальная статистическая кругах
$ Nbcirclemax	Шум: максимальная случайных линий
$ Noisecolorchar	Шум: Цвет написания пиксели, линии, круги 
1: Цвет символов 
2: Цвет фона 
3: Случайный цвет
$ Brushsize	Размер кисти (пикселей) 
с 1 по 25 (более важные значения могут привести к одной внутренней ошибке сервера на некоторых PHP / GD версии).
$ Noiseup	Шум его над письменной форме (истина) или в нижней части (ложь)

Безопасность и конфигурации системы:
$ Cryptformat	Файл формата изображения "GIF", "PNG" OU "JPG" 
Если вы хотите прозрачным фоном, используйте только "PNG" (не "GIF")
$ Cryptsecure	Используемого способа кодирования: "MD5", "SHA1" или ничего.
$ Cryptusetimer	Времени (в секундах) перед тем, способны регенерировать новые криптограммы
$ Cryptusertimererror	Если минимальное время не соблюдается: 
1: Ничего, не возвращаться изображения. 
2: Отправить изображение "images/erreur2.png" 
3: сценарий находится в $ паузу во время секунд cryptusetimer
$ Cryptusemax	Сколько раз пользователь может генерировать криптограммы.



Изменений

Версия 1.4
Дополнения: 
- Случайное изображение фона: если вы пишете каталога, а не файла в $ bgimg фонового изображения будут случайным образом выбраны в каталоге. 
- Возможность разрешать или запрещения нескольким проверки проверки страницы ($ cryptoneuse) = > (спасибо Aurelien) 
- Добавить файл index.html в каждом каталоге 
- Шумы: Добавить заклинивания случайными кругами 
- Шумы: Добавить переменную толщину Особенности ($ brushsize) 
- Шумы: Добавить возможность цвет случайных помех 
- это Cryptographp совместимый с PHP> = 4.3.0 Модификации: - Удалить все пробелы Написал ошибки в криптограммы (спасибо Эммануэль) Исправления: - изменение метода обнаружения искать каталог установки.